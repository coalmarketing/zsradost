# Use DecapBridge PKCE auth (required)
backend:
  name: git-gateway
  repo: coalmarketing/zsradostweb
  branch: main
  auth_type: pkce
  base_url: https://auth.decapbridge.com
  auth_endpoint: /sites/36b4dce6-c752-42b4-8420-2d76fb44ade3/pkce
  auth_token_endpoint: /sites/36b4dce6-c752-42b4-8420-2d76fb44ade3/token
  gateway_url: https://gateway.decapbridge.com

  # See who did what (optional)
  commit_messages:
    create: Create {{collection}} “{{slug}}” - {{author-name}} <{{author-login}}> via DecapBridge
    update: Update {{collection}} “{{slug}}” - {{author-name}} <{{author-login}}> via DecapBridge
    delete: Delete {{collection}} “{{slug}}” - {{author-name}} <{{author-login}}> via DecapBridge
    uploadMedia: Upload “{{path}}” - {{author-name}} <{{author-login}}> via DecapBridge
    deleteMedia: Delete “{{path}}” - {{author-name}} <{{author-login}}> via DecapBridge
    openAuthoring: Message {{message}} - {{author-name}} <{{author-login}}> via DecapBridge

# Enable PKCE fields (optional, recommended)
auth:
  email_claim: email
  first_name_claim: first_name
  last_name_claim: last_name
  avatar_url_claim: avatar_url

# Add site links in Decap CMS (optional)
site_url: https://zsradost.netlify.app

local_backend: true

# Change url to a link to the image you want to use, no file paths, must be a URL
logo_url:
  src: "https://coalmarketing.cz/wp-content/uploads/2024/08/coalmarketing_logo_long_color-black-1024x239.png"
  show_in_header: false

locale: "cs"

# Where should uploaded files be saved
media_folder: "src/assets/images/cms"

# Where should media be served, relative to the base of the built site
public_folder: "/assets/images/cms"

collections:
  # SETTINGS CONFIG
  - label: "Nastavení"
    name: "settings"
    delete: false
    editor:
      preview: false
    files:
      - label: "Nastavení webu"
        name: "website_settings"
        file: "src/_data/client.json"
        description: "Umožňuje upravovat kontaktní údaje klienta v souboru src/_data/client.json"
        fields:
          - {
              label: "Název podniku",
              name: "name",
              widget: "string",
              hint: "Použito v titulku prohlížeče a při sdílení",
            }
          - {
              label: "E-mail",
              name: "email",
              widget: "string",
              hint: "Hlavní e-mail, kam vás mohou zákazníci kontaktovat",
            }
          - {
              label: "Telefon (bez mezer)",
              name: "phoneForTel",
              widget: "string",
              hint: "Použito pro klikatelné odkazy pro volání. Formát: +420xxxxxxxxx",
            }
          - {
              label: "Telefon (formátovaný)",
              name: "phoneFormatted",
              widget: "string",
              hint: "Viditelný text na stránkách. Příklad: +420 123 456 789",
            }
          - {
              label: "Školní rok",
              name: "schoolYear",
              widget: "string",
              hint: "Např. 2025/2026",
            }
          - {
              label: "Cena družiny",
              name: "druzinaPrice",
              widget: "string",
              required: false,
              hint: "Uveďte cenu v Kč (textem, např. '1 200')",
            }
          - {
              label: "Cena školního stravování",
              name: "schoolMealsPrice",
              widget: "string",
              required: false,
              hint: "Uveďte cenu v Kč (textem, např. '1 200')",
            }
          - {
              label: "Školné",
              name: "tuitionPrice",
              widget: "string",
              required: false,
              hint: "Uveďte cenu v Kč (textem, např. '5 200')",
            }

  # BLOG CONFIG
  - label: "Blog"
    name: "blog"
    folder: "src/content/blog"
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "Název", name: "title", widget: "string" }
      - {
          label: "URL odkaz",
          name: "url",
          widget: "string",
          hint: "Určete, jak bude vypadat URL stránky (bez lomítek). Např. 'nazev-prispevku' — výsledná cesta: /blog/nazev-prispevku.",
          pattern:
            [
              "^[A-Za-z0-9 ]+(?:-[A-Za-z0-9 ]+)*$",
              "Pouze písmena (A-Z, a-z), číslice a pomlčky (-). Žádná lomítka ani speciální znaky.",
            ],
        }
      - {
          label: "Popis",
          name: "description",
          widget: "string",
          hint: "Krátký popis příspěvku, který se zobrazuje v náhledech",
        }
      - { label: "Datum", name: "date", widget: "datetime" }
      - {
          label: "Náhledový obrázek",
          name: "image",
          widget: "image",
          choose_url: false,
        }
      - { label: "Popis obrázku", name: "imageAlt", widget: "string" }
      - name: "images"
        label: "Další obrázky (galerie)"
        widget: "list"
        required: false
        hint: "Nahrajte obrázky, které se zobrazí v galerii příspěvku"
        fields:
          - {
              name: "url",
              label: "Fotografie",
              widget: "image",
              choose_url: false,
            }
          - {
              label: "Popis fotografie",
              name: "alt",
              widget: "string",
              required: false,
            }
      - { label: "Obsah", name: "body", widget: "markdown" }

  # GALLERY PHOTOS
  - label: "Galerie"
    name: "gallery"
    folder: "src/content/gallery"
    editor:
      preview: false
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "Název alba", name: "title", widget: "string" }
      - { label: "Datum", name: "date", widget: "datetime", date_format: true }
      - {
          label: "Krátký popis (preview)",
          name: "description",
          widget: "text",
          required: false,
        }
      - {
          label: "Náhledový obrázek (cover)",
          name: "cover",
          widget: "image",
          choose_url: false,
          required: false,
        }
      - {
          label: "Layout (hidden)",
          name: "layout",
          widget: "hidden",
          default: "layouts/gallery.njk",
        }
      - name: "images"
        label: "Fotografie"
        widget: "list"
        fields:
          - {
              name: "url",
              label: "Fotografie",
              widget: "image",
              choose_url: false,
            }
          - {
              label: "Popis fotografie",
              name: "alt",
              widget: "string",
              required: false,
            }
      - {
          label: "Štítky",
          name: "tags",
          widget: "hidden",
          default: ["gallery"],
        }

  # PARTNERS
  - label: "Partneři"
    name: "partners"
    folder: "src/content/partners"
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "Název", name: "title", widget: "string" }
      - { label: "URL", name: "url", widget: "string", required: false }
      - { label: "Obrázek", name: "image", widget: "image", choose_url: false }
      - {
          label: "Popis obrázku",
          name: "imageAlt",
          widget: "string",
          required: false,
        }
      - { label: "Pořadí", name: "order", widget: "number", required: false }

  # INSPIRATION / DOWNLOADABLE FILES
  - label: "Inspirace"
    name: "inspirations"
    delete: false
    editor:
      preview: false
    files:
      - label: "Další inspirace"
        name: "inspirations_file"
        file: "src/_data/inspirations.json"
        description: "Seznam inspiračních dokumentů (PDF, DOCX) zobrazený na stránce 'O nás'"
        fields:
          - label: "Položky"
            name: "items"
            widget: "list"
            fields:
              - { label: "Název", name: "title", widget: "string" }
              - { label: "Popis", name: "description", widget: "text" }
              - { label: "Odkaz", name: "url", widget: "string" }

  # INTEREST / DOWNLOADABLE FILES FOR 'Pro zájemce' PAGE
  - label: "Ke stažení"
    name: "downloads_files"
    delete: false
    editor:
      preview: false
    files:
      - label: "Ke stažení (Pro zájemce)"
        name: "interest_file"
        file: "src/_data/interest.json"
        description: "Seznam dokumentů (PDF, DOCX) zobrazený na stránce 'Pro zájemce'"
        fields:
          - label: "Položky"
            name: "items"
            widget: "list"
            fields:
              - { label: "Název", name: "title", widget: "string" }
              - { label: "Popis", name: "description", widget: "text" }
              - {
                  label: "Dokument",
                  name: "file",
                  widget: "file",
                  hint: "Nahrajte dokument do 'src/assets/documents'",
                }
              - {
                  label: "Text tlačítka",
                  name: "buttonText",
                  widget: "string",
                  required: false,
                }

  # TEAM MEMBERS
  - label: "Tým"
    name: "team"
    folder: "src/content/team"
    create: true
    slug: "{{fields.url}}"
    fields:
      - { label: "Jméno", name: "name", widget: "string" }
      - { label: "Pozice", name: "role", widget: "string", required: false }
      - {
          label: "Fotografie",
          name: "image",
          widget: "image",
          choose_url: false,
        }
      - {
          label: "Popis fotografie",
          name: "imageAlt",
          widget: "string",
          required: false,
        }
      - { label: "Krátký bio", name: "bio", widget: "text", required: false }
      - {
          label: "URL odkaz",
          name: "url",
          widget: "string",
          hint: "Určete, jak bude vypadat URL (bez lomítek). Např. 'jmeno-cloveka'",
          pattern:
            [
              "^[A-Za-z0-9 ]+(?:-[A-Za-z0-9 ]+)*$",
              "Pouze písmena (A-Z, a-z), číslice a pomlčky (-). Žádná lomítka ani speciální znaky.",
            ],
          required: true,
        }
      - { label: "Pořadí", name: "order", widget: "number", required: false }
      - {
          label: "Zobrazit",
          name: "published",
          widget: "boolean",
          default: true,
        }
      - label: "Plný popis"
        name: "body"
        widget: "markdown"
        required: false
      - {
          label: "Layout (hidden)",
          name: "layout",
          widget: "hidden",
          default: "layouts/team.njk",
        }
